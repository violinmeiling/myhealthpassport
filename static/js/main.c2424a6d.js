/*! For license information please see main.c2424a6d.js.LICENSE.txt */
(()=>{"use strict";var e={153:(e,r,t)=>{var n=t(43),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var n,s={},c=null,l=null;for(n in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(l=r.ref),r)a.call(r,n)&&!u.hasOwnProperty(n)&&(s[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===s[n]&&(s[n]=r[n]);return{$$typeof:o,type:e,key:c,ref:l,props:s,_owner:i.current}}r.jsx=c},202:(e,r)=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,m={};function y(e,r,t){this.props=e,this.context=r,this.refs=m,this.updater=t||p}function v(){}function O(e,r,t){this.props=e,this.context=r,this.refs=m,this.updater=t||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,r){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=O.prototype=new v;b.constructor=O,h(b,y.prototype),b.isPureReactComponent=!0;var I=Array.isArray,S=Object.prototype.hasOwnProperty,P={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,r,n){var o,s={},a=null,i=null;if(null!=r)for(o in void 0!==r.ref&&(i=r.ref),void 0!==r.key&&(a=""+r.key),r)S.call(r,o)&&!_.hasOwnProperty(o)&&(s[o]=r[o]);var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===s[o]&&(s[o]=u[o]);return{$$typeof:t,type:e,key:a,ref:i,props:s,_owner:P.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var R=/\/+/g;function A(e,r){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return r[e]}))}(""+e.key):r.toString(36)}function U(e,r,o,s,a){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case t:case n:u=!0}}if(u)return a=a(u=e),e=""===s?"."+A(u,0):s,I(a)?(o="",null!=e&&(o=e.replace(R,"$&/")+"/"),U(a,r,o,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),r.push(a)),1;if(u=0,s=""===s?".":s+":",I(e))for(var c=0;c<e.length;c++){var l=s+A(i=e[c],c);u+=U(i,r,o,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(i=e.next()).done;)u+=U(i=i.value,r,o,l=s+A(i,c++),a);else if("object"===i)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return u}function k(e,r,t){if(null==e)return e;var n=[],o=0;return U(e,n,"","",(function(e){return r.call(t,e,o++)})),n}function C(e){if(-1===e._status){var r=e._result;(r=r()).then((function(r){0!==e._status&&-1!==e._status||(e._status=1,e._result=r)}),(function(r){0!==e._status&&-1!==e._status||(e._status=2,e._result=r)})),-1===e._status&&(e._status=0,e._result=r)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},E={transition:null},$={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:E,ReactCurrentOwner:P};function M(){throw Error("act(...) is not supported in production builds of React.")}r.Children={map:k,forEach:function(e,r,t){k(e,(function(){r.apply(this,arguments)}),t)},count:function(e){var r=0;return k(e,(function(){r++})),r},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r.Component=y,r.Fragment=o,r.Profiler=a,r.PureComponent=O,r.StrictMode=s,r.Suspense=l,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,r.act=M,r.cloneElement=function(e,r,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=h({},e.props),s=e.key,a=e.ref,i=e._owner;if(null!=r){if(void 0!==r.ref&&(a=r.ref,i=P.current),void 0!==r.key&&(s=""+r.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in r)S.call(r,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===r[c]&&void 0!==u?u[c]:r[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:t,type:e.type,key:s,ref:a,props:o,_owner:i}},r.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},r.createElement=w,r.createFactory=function(e){var r=w.bind(null,e);return r.type=e,r},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:c,render:e}},r.isValidElement=T,r.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:C}},r.memo=function(e,r){return{$$typeof:f,type:e,compare:void 0===r?null:r}},r.startTransition=function(e){var r=E.transition;E.transition={};try{e()}finally{E.transition=r}},r.unstable_act=M,r.useCallback=function(e,r){return L.current.useCallback(e,r)},r.useContext=function(e){return L.current.useContext(e)},r.useDebugValue=function(){},r.useDeferredValue=function(e){return L.current.useDeferredValue(e)},r.useEffect=function(e,r){return L.current.useEffect(e,r)},r.useId=function(){return L.current.useId()},r.useImperativeHandle=function(e,r,t){return L.current.useImperativeHandle(e,r,t)},r.useInsertionEffect=function(e,r){return L.current.useInsertionEffect(e,r)},r.useLayoutEffect=function(e,r){return L.current.useLayoutEffect(e,r)},r.useMemo=function(e,r){return L.current.useMemo(e,r)},r.useReducer=function(e,r,t){return L.current.useReducer(e,r,t)},r.useRef=function(e){return L.current.useRef(e)},r.useState=function(e){return L.current.useState(e)},r.useSyncExternalStore=function(e,r,t){return L.current.useSyncExternalStore(e,r,t)},r.useTransition=function(){return L.current.useTransition()},r.version="18.3.1"},43:(e,r,t)=>{e.exports=t(202)},579:(e,r,t)=>{e.exports=t(153)}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var s=r[n]={exports:{}};return e[n](s,s.exports,t),s.exports}var n=t(43);function o(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)e[n]=t[n]}return e}!function e(r,t){function n(e,n,s){if("undefined"!==typeof document){"number"===typeof(s=o({},t,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in s)s[i]&&(a+="; "+i,!0!==s[i]&&(a+="="+s[i].split(";")[0]));return document.cookie=e+"="+r.write(n,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var s=t[o].split("="),a=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(n[i]=r.read(a,i),e===i)break}catch($){}}return e?n[e]:n}},remove:function(e,r){n(e,"",o({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,o({},this.attributes,r))},withConverter:function(r){return e(o({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let s=function(e){return e.SingleRole="single_role_in_hierarchy",e.MultiRole="multi_role",e}({});class a{constructor(e,r){this.userId=e.userId,this.orgIdToUserOrgInfo=r,this.email=e.email,this.firstName=e.firstName,this.lastName=e.lastName,this.username=e.username,this.createdAt=e.createdAt,this.pictureUrl=e.pictureUrl,this.hasPassword=e.hasPassword,this.hasMfaEnabled=e.hasMfaEnabled,this.canCreateOrgs=e.canCreateOrgs,this.legacyUserId=e.legacyUserId,this.impersonatorUserId=e.impersonatorUserId,this.properties=e.properties}getOrg(e){if(this.orgIdToUserOrgInfo)return this.orgIdToUserOrgInfo[e]}getOrgByName(e){if(!this.orgIdToUserOrgInfo)return;const r=e.toLowerCase().replace(/ /g,"-");for(const t in this.orgIdToUserOrgInfo){const e=this.orgIdToUserOrgInfo[t];if((null===e||void 0===e?void 0:e.urlSafeOrgName)===r)return e}}getUserProperty(e){if(this.properties)return this.properties[e]}getOrgs(){return this.orgIdToUserOrgInfo?Object.values(this.orgIdToUserOrgInfo):[]}isImpersonating(){return!!this.impersonatorUserId}isRole(e,r){const t=this.getOrg(e);return!!t&&t.isRole(r)}isAtLeastRole(e,r){const t=this.getOrg(e);return!!t&&t.isAtLeastRole(r)}hasPermission(e,r){const t=this.getOrg(e);return!!t&&t.hasPermission(r)}hasAllPermissions(e,r){const t=this.getOrg(e);return!!t&&t.hasAllPermissions(r)}static fromJSON(e){const r=JSON.parse(e),t={};for(const n in r.orgIdToUserOrgInfo)t[n]=i.fromJSON(JSON.stringify(r.orgIdToUserOrgInfo[n]));try{return new a({userId:r.userId,email:r.email,createdAt:r.createdAt,firstName:r.firstName,lastName:r.lastName,username:r.username,legacyUserId:r.legacyUserId,impersonatorUserId:r.impersonatorUserId,properties:r.properties,pictureUrl:r.pictureUrl,hasPassword:r.hasPassword,hasMfaEnabled:r.hasMfaEnabled,canCreateOrgs:r.canCreateOrgs},t)}catch($){throw console.error("Unable to parse User. Make sure the JSON string is a stringified `UserClass` type.",$),$}}}class i{constructor(e,r,t,n,o,a,i,u,c){this.orgId=e,this.orgName=r,this.orgMetadata=t,this.urlSafeOrgName=n,this.orgRoleStructure=null!==u&&void 0!==u?u:s.SingleRole,this.userAssignedRole=o,this.userInheritedRolesPlusCurrentRole=a,this.userPermissions=i,this.userAssignedAdditionalRoles=null!==c&&void 0!==c?c:[]}isRole(e){return this.orgRoleStructure===s.MultiRole?this.userAssignedRole===e||this.userAssignedAdditionalRoles.includes(e):this.userAssignedRole===e}isAtLeastRole(e){return this.orgRoleStructure===s.MultiRole?this.userAssignedRole===e||this.userAssignedAdditionalRoles.includes(e):this.userInheritedRolesPlusCurrentRole.includes(e)}hasPermission(e){return this.userPermissions.includes(e)}hasAllPermissions(e){return e.every((e=>this.hasPermission(e)))}static fromJSON(e){const r=JSON.parse(e);try{return new i(r.orgId,r.orgName,r.orgMetadata,r.urlSafeOrgName,r.userAssignedRole,r.userInheritedRolesPlusCurrentRole,r.userPermissions,r.orgRoleStructure,r.userAssignedAdditionalRoles)}catch($){throw console.error("Unable to parse UserOrgInfo. Make sure the JSON string is a stringified `UserOrgInfo` type.",$),$}}}function u(e,r){const t=new URLSearchParams;r&&t.append("active_org_id",r);let n=`${e}/api/v1/refresh_token`;return t.toString()&&(n+=`?${t.toString()}`),fetch(n,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((e=>401===e.status?null:0===e.status?(c(),Promise.reject({status:503,message:"Unable to process authentication response"})):e.ok?function(e){return e.text().then((e=>{try{return function(e){e.orgIdToOrgMemberInfo&&(e.orgHelper=(r=e.orgIdToOrgMemberInfo,{getOrg:e=>r.hasOwnProperty(e)?r[e]:void 0,getOrgIds:()=>Object.keys(r),getOrgs:()=>Object.values(r),getOrgByName(e){for(const t of Object.values(r))if(t.orgName===e||t.urlSafeOrgName===e)return t}}),e.accessHelper=function(e){function r(r,t){const n=e[r];return void 0!==n&&(n.orgRoleStructure===s.MultiRole?n.userAssignedRole===t||n.userAssignedAdditionalRoles.includes(t):n.userAssignedRole===t)}function t(r,t){const n=e[r];return void 0!==n&&(n.orgRoleStructure===s.MultiRole?n.userAssignedRole===t||n.userAssignedAdditionalRoles.includes(t):n.userInheritedRolesPlusCurrentRole.includes(t))}function n(r,t){const n=e[r];return void 0!==n&&n.userPermissions.includes(t)}function o(r,t){const n=e[r];return void 0!==n&&t.every((e=>n.userPermissions.includes(e)))}return{isRole:r,isAtLeastRole:t,hasPermission:n,hasAllPermissions:o,getAccessHelperWithOrgId:function(e){return{isRole:t=>r(e,t),isAtLeastRole:r=>t(e,r),hasPermission:r=>n(e,r),hasAllPermissions:r=>o(e,r)}}}}(e.orgIdToOrgMemberInfo));var r;return e.userClass=new a({userId:e.user.userId,email:e.user.email,createdAt:e.user.createdAt,firstName:e.user.firstName,lastName:e.user.lastName,username:e.user.username,properties:e.user.properties,pictureUrl:e.user.pictureUrl,hasPassword:e.user.hasPassword,hasMfaEnabled:e.user.mfaEnabled,canCreateOrgs:e.user.canCreateOrgs,legacyUserId:e.user.legacyUserId,impersonatorUserId:e.impersonatorUserId},function(e){if(void 0===e)return;const r={};for(const t of Object.values(e))r[t.orgId]=new i(t.orgId,t.orgName,t.orgMetadata,t.urlSafeOrgName,t.userAssignedRole,t.userInheritedRolesPlusCurrentRole,t.userPermissions,t.orgRoleStructure,t.userAssignedAdditionalRoles);return r}(e.orgIdToOrgMemberInfo)),Promise.resolve(e)}((r=e,JSON.parse(r,(function(e,r){if("org_id"===e)this.orgId=r;else if("org_name"===e)this.orgName=r;else if("org_metadata"===e)this.orgMetadata=r;else if("url_safe_org_name"===e)this.urlSafeOrgName=r;else if("user_role"===e)this.userAssignedRole=r;else if("inherited_user_roles_plus_current_role"===e)this.userInheritedRolesPlusCurrentRole=r;else if("user_permissions"===e)this.userPermissions=r;else if("access_token"===e)this.accessToken=r;else if("expires_at_seconds"===e)this.expiresAtSeconds=r;else if("org_id_to_org_member_info"===e)this.orgIdToOrgMemberInfo=r;else if("user_id"===e)this.userId=r;else if("email_confirmed"===e)this.emailConfirmed=r;else if("first_name"===e)this.firstName=r;else if("last_name"===e)this.lastName=r;else if("picture_url"===e)this.pictureUrl=r;else if("mfa_enabled"===e)this.mfaEnabled=r;else if("has_password"===e)this.hasPassword=r;else if("can_create_orgs"===e)this.canCreateOrgs=r;else if("created_at"===e)this.createdAt=r;else if("last_active_at"===e)this.lastActiveAt=r;else if("legacy_user_id"===e)this.legacyUserId=r;else if("impersonator_user"===e)this.impersonatorUserId=r;else if("org_role_structure"===e)this.orgRoleStructure=r;else{if("additional_roles"!==e)return r;this.userAssignedAdditionalRoles=r}}))))}catch($){return console.error("Unable to process authentication response",$),Promise.reject({status:500,message:"Unable to process authentication response"})}var r}),(e=>(console.error("Unable to process authentication response",e),Promise.reject({status:500,message:"Unable to process authentication response"}))))}(e):Promise.reject({status:e.status,message:e.statusText})))}function c(){console.error("Request to PropelAuth failed due to a CORS error. There are a few likely causes: \n 1. In the Frontend Integration section of your dashboard, make sure your requests are coming either the specified Application URL or localhost with a matching port.\n 2. Make sure your server is hosted on HTTPS in production.")}const l=async e=>f(e,3),f=async(e,r)=>{try{return await e()}catch($){if(r<=0)throw $;return await d(g(r)),f(e,r-1)}},d=e=>new Promise((r=>setTimeout(r,e))),g=e=>e>=3?100:2===e?200:300;function p(){return Date.now()/1e3}function h(){return"undefined"!==typeof localStorage}function m(e){if(!h())return null;const r=localStorage.getItem(e);if(!r)return null;const t=parseInt(r,10);return Number.isNaN(t)?null:t}const y="__PROPEL_AUTH_LOGGED_IN_AT",v="__PROPEL_AUTH_LOGGED_OUT_AT",O=e=>(window?window.btoa:btoa)(e);function b(e){!function(e){try{const r=new URL(e.authUrl);e.authUrl=r.origin}catch($){throw console.error("Invalid authUrl",$),new Error("Unable to initialize auth client")}void 0===e.enableBackgroundTokenRefresh&&(e.enableBackgroundTokenRefresh=!0)}(e);const r={initialLoadFinished:!1,authenticationInfo:null,observers:[],accessTokenObservers:[],lastLoggedInAtMessage:m(y),lastLoggedOutAtMessage:m(v),authUrl:e.authUrl,refreshInterval:null,lastRefresh:null,accessTokenActiveOrgMap:{}};function t(e){for(let t=0;t<r.observers.length;t++){const n=r.observers[t];n&&n(e)}}function n(e){var n;const o=null===(n=r.authenticationInfo)||void 0===n?void 0:n.accessToken;r.authenticationInfo=e;const s=null===e||void 0===e?void 0:e.accessToken;!function(e,t){return!e&&(t||!r.initialLoadFinished)}(s,o)?function(e,r){return!r&&e}(s,o)&&(t(!0),function(){const e=p();r.lastLoggedInAtMessage=e,h()&&localStorage.setItem(y,String(e))}()):(t(!1),function(){const e=p();r.lastLoggedOutAtMessage=e,h()&&localStorage.setItem(v,String(e))}()),o!==s&&function(e){for(let t=0;t<r.accessTokenObservers.length;t++){const n=r.accessTokenObservers[t];n&&n(e)}}(s),r.accessTokenActiveOrgMap={},r.lastRefresh=p(),r.initialLoadFinished=!0}async function o(e){try{const e=await l((()=>u(r.authUrl)));return n(e),e}catch($){if(e)return r.authenticationInfo;throw n(null),$}}const s=e=>{let t=new URLSearchParams,n=`${r.authUrl}/signup`;if(e){const{postSignupRedirectUrl:r,userSignupQueryParameters:n}=e;r&&t.set("rt",O(r)),n&&Object.entries(n).forEach((e=>{let[r,n]=e;t.set(r,n)}))}return t.toString()&&(n+=`?${t.toString()}`),n},a=e=>{let t=new URLSearchParams,n=`${r.authUrl}/login`;if(e){const{postLoginRedirectUrl:r,userSignupQueryParameters:n}=e;r&&t.set("rt",O(r)),n&&Object.entries(n).forEach((e=>{let[r,n]=e;t.set(r,n)}))}return t.toString()&&(n+=`?${t.toString()}`),n},i=e=>{let t=new URLSearchParams,n=`${r.authUrl}/account`;if(e){const{redirectBackToUrl:r}=e;r&&t.set("rt",O(r))}return t.toString()&&(n+=`?${t.toString()}`),n},f=(e,t)=>{let n=new URLSearchParams,o=`${r.authUrl}/org`;return e&&n.set("id",e),t&&t.redirectBackToUrl&&n.set("rt",O(t.redirectBackToUrl)),n.toString()&&(o+=`?${n.toString()}`),o},d=e=>{let t=new URLSearchParams,n=`${r.authUrl}/create_org`;if(e){const{redirectBackToUrl:r}=e;r&&t.set("rt",O(r))}return t.toString()&&(n+=`?${t.toString()}`),n},g=(e,t)=>{let n=new URLSearchParams;return t&&t.redirectBackToUrl&&n.set("rt",O(t.redirectBackToUrl)),n.set("id",e),`${r.authUrl}/saml?${n.toString()}`},b={addLoggedInChangeObserver(e){r.observers.includes(e)?console.error("Observer has been attached already."):e?r.observers.push(e):console.error("Cannot add a null observer")},removeLoggedInChangeObserver(e){const t=r.observers.indexOf(e);-1===t?console.error("Cannot find observer to remove"):r.observers.splice(t,1)},addAccessTokenChangeObserver(e){r.accessTokenObservers.includes(e)?console.error("Observer has been attached already."):e?r.accessTokenObservers.push(e):console.error("Cannot add a null observer")},removeAccessTokenChangeObserver(e){const t=r.accessTokenObservers.indexOf(e);-1===t?console.error("Cannot find observer to remove"):r.accessTokenObservers.splice(t,1)},async getAuthenticationInfoOrNull(e){const t=p();if(e)return await o(!1);if(r.authenticationInfo){if(t+600>r.authenticationInfo.expiresAtSeconds){const e=t<r.authenticationInfo.expiresAtSeconds;return await o(e)}return r.authenticationInfo}return await o(!1)},async getAccessTokenForOrg(e){const t=p(),n=r.accessTokenActiveOrgMap[e];if(n&&t<n.fetchedAt+300)return{accessToken:n.accessToken,error:void 0};try{const n=await l((()=>u(r.authUrl,e)));if(!n)return{error:"user_not_in_org",accessToken:null};const{accessToken:o}=n;return r.accessTokenActiveOrgMap[e]={accessToken:o,fetchedAt:t},{accessToken:o,error:void 0}}catch($){return{error:"unexpected_error",accessToken:null}}},getSignupPageUrl:e=>s(e),getLoginPageUrl:e=>a(e),getAccountPageUrl:e=>i(e),getOrgPageUrl:(e,r)=>f(e,r),getCreateOrgPageUrl:e=>d(e),getSetupSAMLPageUrl:(e,r)=>g(e,r),redirectToSignupPage(e){window.location.href=s(e)},redirectToLoginPage(e){window.location.href=a(e)},redirectToAccountPage(e){window.location.href=i(e)},redirectToOrgPage(e,r){window.location.href=f(e,r)},redirectToCreateOrgPage(e){window.location.href=d(e)},redirectToSetupSAMLPage(e,r){window.location.href=g(e,r)},async logout(e){const t=await(o=r.authUrl,fetch(`${o}/api/v1/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}).then((e=>0===e.status?(c(),Promise.reject({status:503,message:"Unable to process authentication response"})):e.ok?e.json():(console.error("Logout error",e.status,e.statusText),Promise.reject({status:e.status,message:e.statusText})))));var o;n(null),e&&(window.location.href=t.redirect_to)},destroy(){r.observers=[],r.accessTokenObservers=[],window.removeEventListener("storage",I),r.refreshInterval&&clearInterval(r.refreshInterval)}},I=async function(){if(!h())return;const e=m(v),t=m(y);e&&(!r.lastLoggedOutAtMessage||e>r.lastLoggedOutAtMessage)&&(r.lastLoggedOutAtMessage=e,r.authenticationInfo&&await o(!0)),t&&(!r.lastLoggedInAtMessage||t>r.lastLoggedInAtMessage)&&(r.lastLoggedInAtMessage=t,r.authenticationInfo||await o(!0))},S=async function(){r.lastRefresh&&p()>r.lastRefresh+60?await o(!0):await b.getAuthenticationInfoOrNull()};return"undefined"!==typeof window&&(window.addEventListener("storage",I),window.addEventListener("online",S),window.addEventListener("focus",S),e.enableBackgroundTokenRefresh&&(b.getAuthenticationInfoOrNull(),r.refreshInterval=window.setInterval(b.getAuthenticationInfoOrNull,6e4))),b}const I="__last_selected_org";function S(){return localStorage?localStorage.getItem(I):null}const P=(e,r)=>(0,n.useCallback)((function(){const t=e.current?.client;if(!t)throw new Error("Client is not initialized");return r(t)(...arguments)}),[r]),_=n.createContext(void 0),w={loading:!0,authInfo:null};function T(e,r){return r.authInfo?e.loading||e.authInfo&&e.authInfo.accessToken!==r.authInfo.accessToken?{loading:!1,authInfo:r.authInfo}:e:{loading:!1,authInfo:r.authInfo}}const R=e=>{const[r,t]=(0,n.useReducer)(T,w),{clientRef:o,accessTokenChangeCounter:s}=(e=>{const[r,t]=(0,n.useState)(0),{authUrl:o}=e,s=(0,n.useRef)(null);if(null===s.current){const e=b({authUrl:o,enableBackgroundTokenRefresh:!0});e.addAccessTokenChangeObserver((()=>t((e=>e+1)))),s.current={authUrl:o,client:e}}return(0,n.useEffect)((()=>{if(null!==s.current&&s.current.authUrl!==o){s.current.client.destroy();const e=b({authUrl:o,enableBackgroundTokenRefresh:!0});e.addAccessTokenChangeObserver((()=>t((e=>e+1)))),s.current={authUrl:o,client:e}}}),[o]),{clientRef:s,accessTokenChangeCounter:r}})({authUrl:e.authUrl});(0,n.useEffect)((()=>{let e=!1;return async function(){const r=o.current?.client;if(r)try{const n=await r.getAuthenticationInfoOrNull();e||t({authInfo:n})}catch(n){}}(),()=>{e=!0}}),[s]),(0,n.useEffect)((()=>{e.getActiveOrgFn&&console.warn("The `getActiveOrgFn` prop is deprecated.")}),[]);const a=P(o,(e=>e.logout)),i=P(o,(e=>e.redirectToLoginPage)),u=P(o,(e=>e.redirectToSignupPage)),c=P(o,(e=>e.redirectToAccountPage)),l=P(o,(e=>e.redirectToOrgPage)),f=P(o,(e=>e.redirectToCreateOrgPage)),d=P(o,(e=>e.redirectToSetupSAMLPage)),g=P(o,(e=>e.getLoginPageUrl)),p=P(o,(e=>e.getSignupPageUrl)),h=P(o,(e=>e.getAccountPageUrl)),m=P(o,(e=>e.getOrgPageUrl)),y=P(o,(e=>e.getCreateOrgPageUrl)),v=P(o,(e=>e.getSetupSAMLPageUrl)),O=P(o,(e=>e.getAccessTokenForOrg)),I=(0,n.useCallback)((async()=>{if(null===o.current)return;const e=o.current.client,r=await e.getAuthenticationInfoOrNull(!0);t({authInfo:r})}),[t]),R=e.getActiveOrgFn||S,{defaultDisplayWhileLoading:A,defaultDisplayIfLoggedOut:U}=e,k={loading:r.loading,authInfo:r.authInfo,logout:a,defaultDisplayWhileLoading:A,defaultDisplayIfLoggedOut:U,redirectToLoginPage:i,redirectToSignupPage:u,redirectToAccountPage:c,redirectToOrgPage:l,redirectToCreateOrgPage:f,redirectToSetupSAMLPage:d,getLoginPageUrl:g,activeOrgFn:R,getSignupPageUrl:p,getAccountPageUrl:h,getOrgPageUrl:m,getCreateOrgPageUrl:y,getSetupSAMLPageUrl:v,refreshAuthInfo:I,tokens:{getAccessTokenForOrg:O}};return n.createElement(_.Provider,{value:k},e.children)};function A(){const e=(0,n.useContext)(_);if(void 0===e)throw new Error("useRedirectFunctions must be used within an AuthProvider or RequiredAuthProvider");const{redirectToAccountPage:r,redirectToSignupPage:t,redirectToLoginPage:o,redirectToOrgPage:s,redirectToCreateOrgPage:a,redirectToSetupSAMLPage:i}=e;return{redirectToSignupPage:t,redirectToLoginPage:o,redirectToAccountPage:r,redirectToOrgPage:s,redirectToCreateOrgPage:a,redirectToSetupSAMLPage:i}}function U(e){let{children:r,postLoginRedirectUrl:t}=e;const{redirectToLoginPage:o}=A();return(0,n.useEffect)((()=>{t?o({postLoginRedirectUrl:t}):o()}),[]),n.createElement(n.Fragment,null,r)}function k(e){var r={exports:{}};return e(r,r.exports),r.exports}var C="function"===typeof Symbol&&Symbol.for,L=C?Symbol.for("react.element"):60103,E=C?Symbol.for("react.portal"):60106,$=C?Symbol.for("react.fragment"):60107,M=C?Symbol.for("react.strict_mode"):60108,N=C?Symbol.for("react.profiler"):60114,x=C?Symbol.for("react.provider"):60109,j=C?Symbol.for("react.context"):60110,F=C?Symbol.for("react.async_mode"):60111,D=C?Symbol.for("react.concurrent_mode"):60111,B=C?Symbol.for("react.forward_ref"):60112,H=C?Symbol.for("react.suspense"):60113,q=C?Symbol.for("react.suspense_list"):60120,z=C?Symbol.for("react.memo"):60115,J=C?Symbol.for("react.lazy"):60116,W=C?Symbol.for("react.block"):60121,V=C?Symbol.for("react.fundamental"):60117,G=C?Symbol.for("react.responder"):60118,Y=C?Symbol.for("react.scope"):60119;function Q(e){if("object"===typeof e&&null!==e){var r=e.$$typeof;switch(r){case L:switch(e=e.type){case F:case D:case $:case N:case M:case H:return e;default:switch(e=e&&e.$$typeof){case j:case B:case J:case z:case x:return e;default:return r}}case E:return r}}}function K(e){return Q(e)===D}var X={AsyncMode:F,ConcurrentMode:D,ContextConsumer:j,ContextProvider:x,Element:L,ForwardRef:B,Fragment:$,Lazy:J,Memo:z,Portal:E,Profiler:N,StrictMode:M,Suspense:H,isAsyncMode:function(e){return K(e)||Q(e)===F},isConcurrentMode:K,isContextConsumer:function(e){return Q(e)===j},isContextProvider:function(e){return Q(e)===x},isElement:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===L},isForwardRef:function(e){return Q(e)===B},isFragment:function(e){return Q(e)===$},isLazy:function(e){return Q(e)===J},isMemo:function(e){return Q(e)===z},isPortal:function(e){return Q(e)===E},isProfiler:function(e){return Q(e)===N},isStrictMode:function(e){return Q(e)===M},isSuspense:function(e){return Q(e)===H},isValidElementType:function(e){return"string"===typeof e||"function"===typeof e||e===$||e===D||e===N||e===M||e===H||e===q||"object"===typeof e&&null!==e&&(e.$$typeof===J||e.$$typeof===z||e.$$typeof===x||e.$$typeof===j||e.$$typeof===B||e.$$typeof===V||e.$$typeof===G||e.$$typeof===Y||e.$$typeof===W)},typeOf:Q},Z=(k((function(e,r){0})),k((function(e){e.exports=X}))),ee={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},re={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},te={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ne={};function oe(e){return Z.isMemo(e)?te:ne[e.$$typeof]||ee}ne[Z.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ne[Z.Memo]=te;var se=Object.defineProperty,ae=Object.getOwnPropertyNames,ie=Object.getOwnPropertySymbols,ue=Object.getOwnPropertyDescriptor,ce=Object.getPrototypeOf,le=Object.prototype;var fe=function e(r,t,n){if("string"!==typeof t){if(le){var o=ce(t);o&&o!==le&&e(r,o,n)}var s=ae(t);ie&&(s=s.concat(ie(t)));for(var a=oe(r),i=oe(t),u=0;u<s.length;++u){var c=s[u];if(!re[c]&&(!n||!n[c])&&(!i||!i[c])&&(!a||!a[c])){var l=ue(t,c);try{se(r,c,l)}catch($){}}}}return r};!function(e,r){const t=`withRequiredAuthInfo(${e.displayName||e.name||"Component"})`,o=t=>{const o=(0,n.useContext)(_);if(void 0===o)throw new Error("withRequiredAuthInfo must be used within an AuthProvider or RequiredAuthProvider");const{loading:s,authInfo:a,defaultDisplayIfLoggedOut:i,defaultDisplayWhileLoading:u,refreshAuthInfo:c,tokens:l}=o;if(s)return r?.displayWhileLoading?r.displayWhileLoading:u||n.createElement(n.Fragment,null);if(a){const r={...t,accessToken:a.accessToken,isLoggedIn:!!a.accessToken,orgHelper:a.orgHelper,accessHelper:a.accessHelper,user:a.user,userClass:a.userClass,isImpersonating:!!a.impersonatorUserId,impersonatorUserId:a.impersonatorUserId,refreshAuthInfo:c,tokens:l,accessTokenExpiresAtSeconds:a.expiresAtSeconds};return n.createElement(e,r)}return r?.displayIfLoggedOut?r.displayIfLoggedOut:i||n.createElement(U,null)};o.displayName=t,o.WrappedComponent=e,fe(o,e)}((e=>{let{children:r}=e;return n.createElement(n.Fragment,null,r)}));var de=t(579);ReactDOM.createRoot(document.getElementById("root")).render((0,de.jsx)(R,{authUrl:"https://96933199.propelauthtest.com",children:(0,de.jsx)(YourApp,{})}),document.getElementById("root"))})();
//# sourceMappingURL=main.c2424a6d.js.map